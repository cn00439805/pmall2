{"version":3,"sources":["webpack:///./src/pages/Trolley.vue?e695","webpack:///./src/pages/Trolley.vue?c1b9","webpack:///src/pages/Trolley.vue","webpack:///./src/pages/Trolley.vue?7036","webpack:///./src/pages/Trolley.vue"],"names":["_node_modules_mini_css_extract_plugin_0_5_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_6_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_6_2_vue_loader_lib_index_js_vue_loader_options_Trolley_vue_vue_type_style_index_0_id_6e91c4f5_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_0_5_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_6_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_6_2_vue_loader_lib_index_js_vue_loader_options_Trolley_vue_vue_type_style_index_0_id_6e91c4f5_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","hasChildren","_e","attrs","href","on","click","$event","$router","push","_v","class","getClass","name","tag","_l","item","i","key","pid","pageToDetail","src","thumbnail","_s","title","price","subNum","num","addNum","del","btmNav","isShow","trolleyNumber","trolleyAmount","staticRenderFns","Trolleyvue_type_script_lang_js_","data","mounted","container","document","querySelector","bottom_bar","$refs","appendChild","beforeDestroy","trolley_con","computed","_objectSpread","has-trolley-bottom","Object","vuex_esm","list","state","trolley","methods","detail","$store","commit","obj","concat","watch","$store.state.trolley.list","handler","oldList","length","immediate","deep","btmNav.isShow","pages_Trolleyvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-04d2eddc.4535a229.js","sourcesContent":["import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.6.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js??vue-loader-options!./Trolley.vue?vue&type=style&index=0&id=6e91c4f5&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.6.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js??vue-loader-options!./Trolley.vue?vue&type=style&index=0&id=6e91c4f5&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"trolley_con\",staticClass:\"trolley-con\"},[(!_vm.hasChildren)?_c('div',{staticClass:\"no-product\"},[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.$router.push('home')}}},[_c('span',[_vm._v(\"购物车还是空的\")]),_c('em',[_vm._v(\"去逛逛\")])])]):_vm._e(),(_vm.hasChildren)?_c('div',{staticClass:\"trolley-list\",class:_vm.getClass},[_c('transition-group',{attrs:{\"name\":\"list\",\"tag\":\"ul\"}},_vm._l((_vm.list),function(item,i){return _c('li',{key:item.pid,staticClass:\"ui-flex justify-start list-item\"},[_c('a',{staticClass:\"img-con\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.pageToDetail(item)}}},[_c('img',{attrs:{\"src\":item.thumbnail}})]),_c('div',{staticClass:\"desc-con ui-flex justify-center\"},[_c('h2',[_vm._v(_vm._s(item.title))]),_c('strong',[_vm._v(\"售价:\"),_c('span',[_vm._v(_vm._s(item.price))]),_vm._v(\"元\")]),_c('div',{staticClass:\"ui-flex justify-space-between\"},[_c('div',{staticClass:\"num-box ui-flex\"},[_c('div',{staticClass:\"num-box-sub ui-flex align-center justify-center\",on:{\"click\":function($event){return _vm.subNum(item)}}},[_c('i',{staticClass:\"iconfont icon-jianhao\"})]),_c('div',{staticClass:\"num-box-number\"},[_vm._v(_vm._s(item.num))]),_c('div',{staticClass:\"num-box-add ui-flex align-center justify-center\",on:{\"click\":function($event){return _vm.addNum(item)}}},[_c('i',{staticClass:\"iconfont icon-jiahao\"})])]),_c('a',{staticClass:\"right-btn ui-flex align-center justify-center\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.del(item)}}},[_c('i',{staticClass:\"iconfont icon-lajitong\"})])])])])}),0)],1):_vm._e(),(_vm.hasChildren)?_c('div',{staticClass:\"trolley-list-bg-con\"}):_vm._e(),(!_vm.btmNav.isShow)?_c('div',{ref:\"bottom_bar\",staticClass:\"bottom-bar\"},[_c('div',{staticClass:\"ui-flex align-center\"},[_c('div',{staticClass:\"amount\"},[_c('h3',[_vm._v(\"共\"+_vm._s(_vm.trolleyNumber)+\"件 金额：\")]),_c('strong',[_vm._v(_vm._s(_vm.trolleyAmount)),_c('span',[_vm._v(\"元\")])])]),_c('a',{attrs:{\"href\":\"javascript:;\"}},[_vm._v(\"去结算\")])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"trolley-con\" ref=\"trolley_con\">\n    <div class=\"no-product\" v-if=\"!hasChildren\">\n      <a href=\"javascript:;\" @click=\"$router.push('home')\">\n        <span>购物车还是空的</span>\n        <em>去逛逛</em>\n      </a>\n    </div>\n    <div class=\"trolley-list\" :class=\"getClass\" v-if=\"hasChildren\">\n      <transition-group name=\"list\" tag=\"ul\">\n        <li class=\"ui-flex justify-start list-item\" v-for=\"item,i in list\" :key=\"item.pid\">\n          <a href=\"javascript:;\" class=\"img-con\" @click=\"pageToDetail(item)\">\n            <img :src=\"item.thumbnail\">\n          </a>\n          <div class=\"desc-con ui-flex justify-center\">\n            <h2>{{item.title}}</h2>\n            <strong>售价:<span>{{item.price}}</span>元</strong>\n            <div class=\"ui-flex justify-space-between\">\n              <div class=\"num-box ui-flex\">\n                <div class=\"num-box-sub ui-flex align-center justify-center\" @click=\"subNum(item)\"><i class=\"iconfont icon-jianhao\"></i></div>\n                <div class=\"num-box-number\">{{item.num}}</div>\n                <div class=\"num-box-add ui-flex align-center justify-center\" @click=\"addNum(item)\"><i class=\"iconfont icon-jiahao\"></i></div>\n              </div>\n              <a href=\"javascript:;\" class=\"right-btn ui-flex align-center justify-center\" @click=\"del(item)\"><i class=\"iconfont icon-lajitong\"></i></a>\n            </div>\n          </div>\n        </li>\n      </transition-group>\n    </div>\n    <div class=\"trolley-list-bg-con\" v-if=\"hasChildren\"></div>\n    <div class=\"bottom-bar\" v-if=\"!btmNav.isShow\" ref=\"bottom_bar\">\n      <div class=\"ui-flex align-center\">\n        <div class=\"amount\">\n          <h3>共{{trolleyNumber}}件 金额：</h3>\n          <strong>{{trolleyAmount}}<span>元</span></strong>\n        </div>\n        <a href=\"javascript:;\">去结算</a>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport { mapGetters } from 'vuex'\n\nexport default {\n  name: 'Trolley',\n  data(){\n    return {\n      btmNav:{\n        isShow:true\n      },\n    }\n  },\n  mounted(){\n    if(!this.btmNav.isShow){\n      let container = document.querySelector(\".container\")\n      let bottom_bar = this.$refs.bottom_bar;\n      container.appendChild(bottom_bar)\n    }\n  },\n  beforeDestroy(){\n    let trolley_con = this.$refs.trolley_con;\n    let bottom_bar = this.$refs.bottom_bar;\n    trolley_con.appendChild(bottom_bar)\n  },\n  computed:{\n    getClass(){\n      return {\n        \"has-trolley-bottom\":!this.btmNav.isShow,\n      }\n    },\n    ...mapState({\n      list: state => state.trolley.list,\n    }),\n    ...mapGetters([\n      \"hasChildren\",\n      \"trolleyNumber\",\n      \"trolleyAmount\",\n    ]),\n  },\n  methods:{\n    addNum(detail){\n      this.$store.commit(\"addTrolleyProductNumber\",{\n        pid:detail.pid,\n        num:1,\n      })\n    },\n    subNum(detail){\n      this.$store.commit(\"subTrolleyProductNumber\",{\n        pid:detail.pid,\n        num:1,\n      })\n    },\n    del(detail){\n      this.$store.commit(\"delTrolleyProduct\",detail.pid)\n    },\n    pageToDetail(obj){\n      if(!obj.pid) return\n      this.$router.push(`/productDetail/${obj.pid}`)\n    },\n  },\n  watch:{\n    '$store.state.trolley.list':{\n      handler(list, oldList) {\n        this.btmNav.isShow = !list.length\n      },\n      immediate: true,\n      deep: true,\n    },\n    'btmNav.isShow':{\n      handler(isShow) {\n        this.$store.commit(\"changeVisible\",isShow)\n      },\n      immediate: true,\n    }\n  },\n}\n</script>\n<style lang=\"scss\" scoped>\n  .no-product{\n    position:absolute;left:0;top:0;right:0;bottom:0;text-align:center;padding-top:2.6rem;height:100%;background:#f6f6f6;\n    a{display:inline-block;font-size:$f12;text-align:center;}\n    span{display:inline-block;line-height:.8rem;background:url('~assets/images/trolley_empty.png') no-repeat 0;background-size: auto 100%;padding:0 .16rem 0 .96rem;color:rgba(0,0,0,.27);margin-bottom:0.4rem;}\n    em{display:block;font-style: normal;border:1px solid rgba(0,0,0,.15);height:.5rem;line-height:.5rem;padding:0 .24rem;color:rgba(0,0,0,.87);}\n  }\n  .trolley-list{\n    position:relative;z-index:2;background:#fff;\n    li{\n      border-bottom:1px solid #f6f6f6;padding:0.2rem;\n      h2{font-size:$f16;font-weight:normal;color:$font;margin-bottom:.08rem;}\n      strong{font-size:$f14;font-weight:normal;color:$font-sec;}\n    }\n    .img-con{\n      border:1px solid #eee;width:1.8rem;height:1.8rem;margin-right:.2rem;\n      img{width:100%;height:100%;display: block;}\n    }\n    .desc-con{\n      flex-grow:1;flex-direction:column;\n      strong{margin-bottom:.06rem;}\n      .num-box{\n        i{color:#777;font-size:$f12;}\n      }\n      .num-box-sub{width:.6rem;height:.6rem;line-height:.6rem;background:#f4f4f4;text-align:center;border:1px solid #eee;border-right:0 none;}\n      .num-box-number{width:.6rem;height:.6rem;line-height:.6rem;text-align:center;border:1px solid #eee;border-left:0 none;border-right:0 none;}\n      .num-box-add{width:.6rem;height:.6rem;line-height:.6rem;background:#f4f4f4;text-align:center;border:1px solid #eee;border-left:0 none;}\n      .right-btn{\n        width:.6rem;height:.6rem;\n        i{font-size:$f20;}\n      }\n    }\n  }\n  .trolley-list-bg-con{position:absolute;left:0;top:0;bottom:0;right:0;width:100%;height:100%;background:$white;z-index:1;}\n  .bottom-bar{\n    position:absolute;z-index:5;left:0;right:0;bottom:0;box-shadow:0 3px 14px 2px rgba(0,0,0,.12);background:$white;\n    .amount{\n      width:100%;height:100%;text-align:center;\n      h3{font-weight:normal;font-size:$f14;color:$font-sec;}\n      strong{font-weight:bold;font-size:$f20;color:$primary;}\n      span{font-weight:normal;font-size:$f14;color:$font-sec;padding-left:.1rem;}\n    }\n    a{display:block;width:100%;text-align:center;background:$primary;line-height:1rem;color:$white;}\n  }\n  .has-trolley-bottom{padding-bottom:1rem;}\n  /*list 动画*/\n  .list-item {transition: all .6s;}\n  .list-leave-to{opacity: 0;transform: translateX(-100%);}\n  .list-leave-active{position: absolute;}\n</style>\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js??vue-loader-options!./Trolley.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js??vue-loader-options!./Trolley.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Trolley.vue?vue&type=template&id=6e91c4f5&scoped=true&\"\nimport script from \"./Trolley.vue?vue&type=script&lang=js&\"\nexport * from \"./Trolley.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Trolley.vue?vue&type=style&index=0&id=6e91c4f5&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.6.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e91c4f5\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}